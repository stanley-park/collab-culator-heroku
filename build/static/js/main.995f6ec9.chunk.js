(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),o=(a(16),a(1)),i=a(2),u=a(4),s=a(3),d=a(5),m=(a(7),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"log"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("u",null,"Calculation Log (last 10, most recent first)")),this.props.log.slice(0).reverse().map((function(e,t){return l.a.createElement("p",{key:t},e)})),l.a.createElement("br",null)))}}]),a}(l.a.Component)),h=a(9),E=window.location.href.replace(/^http/,"ws"),p=new h.w3cwebsocket(E),f=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).operations=["\xf7","x","-","+","="],n.state={displayValue:"0",firstOperand:null,waitingForSecondOperand:!1,operator:null,users:0,history:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.onopen=function(){p.send(JSON.stringify({data:"new connect",type:"userEvent"}))},p.onmessage=function(t){var a=JSON.parse(t.data);"userEvent"===a.type?e.setState({users:a.data}):e.setState(a)}}},{key:"evaluate",value:function(e,t,a){switch(e){case"\xf7":return t/a;case"x":return t*a;case"-":return t-a;case"+":return t+a;case"=":default:return a}}},{key:"handleOperator",value:function(e){var t={},a=parseFloat(this.state.displayValue);if(this.state.operator&&this.state.waitingForSecondOperand)return{operator:e};if(null===this.state.firstOperand)t={firstOperand:a};else if(this.state.operator){var n=this.state.firstOperand||0,l=this.evaluate(this.state.operator,n,a);if(t={displayValue:l,firstOperand:l},"="!==this.state.operator){var r=n+" "+this.state.operator+" "+a+" = "+l;this.state.history.length<10?t.history=[].concat(Object(d.a)(this.state.history),[r]):t.history=[].concat(Object(d.a)(this.state.history.slice(1)),[r])}}return t.waitingForSecondOperand=!0,t.operator=e,t}},{key:"handleDecimal",value:function(){var e={};return this.state.waitingForSecondOperand||this.state.displayValue.includes(".")||(e={displayValue:this.state.displayValue+"."}),e}},{key:"handleClear",value:function(){return{displayValue:"0",firstOperand:null,waitingForSecondOperand:!1,operator:null}}},{key:"handlePosNeg",value:function(){return{displayValue:"0"===this.state.displayValue?"0":-1*parseFloat(this.state.displayValue)}}},{key:"handleDigit",value:function(e){return this.state.waitingForSecondOperand?{displayValue:e,waitingForSecondOperand:!1}:{displayValue:"0"===this.state.displayValue?e:this.state.displayValue+e}}},{key:"clearHistoryLog",value:function(){p.send(JSON.stringify({data:{history:[]},type:"clickEvent"}))}},{key:"handleClickEvent",value:function(e){var t="";t=this.operations.includes(e)?this.handleOperator(e):"."===e?this.handleDecimal():"AC"===e?this.handleClear():"+/-"===e?this.handlePosNeg():this.handleDigit(e),p.send(JSON.stringify({data:t,type:"clickEvent"}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",null,"Connected users: ",this.state.users),l.a.createElement("textarea",{placeholder:"Enter a calculation",id:"result",rows:"1",cols:"20",value:this.state.displayValue,readOnly:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"allClearButton",onClick:function(){return e.handleClickEvent("AC")}},"AC"),l.a.createElement("button",{className:"clearLogButton",onClick:function(){return e.clearHistoryLog()},title:"Clear Log"},"C.L."),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("+/-")}},"+/-"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("\xf7")}},"\xf7"),l.a.createElement("br",null),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("7")}},"7"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("8")}},"8"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("9")}},"9"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("x")}},"x"),l.a.createElement("br",null),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("4")}},"4"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("5")}},"5"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("6")}},"6"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("-")}},"-"),l.a.createElement("br",null),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("1")}},"1"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("2")}},"2"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("3")}},"3"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent("+")}},"+"),l.a.createElement("br",null),l.a.createElement("button",{className:"zeroButton",onClick:function(){return e.handleClickEvent("0")}},"0"),l.a.createElement("button",{className:"calculatorButton",onClick:function(){return e.handleClickEvent(".")}},"."),l.a.createElement("button",{className:"equalsButton",onClick:function(){return e.handleClickEvent("=")}},"="),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(m,{log:this.state.history}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))))}}]),a}(l.a.Component),v=a(10),k=a.n(v),b=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"React Collab-culator"),l.a.createElement("img",{className:"appLogo",src:k.a}),l.a.createElement(f,null))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.995f6ec9.chunk.js.map